!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1);i(3);var r=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$scope=e,this.SidebarJS=n,this.elem=i[0]}return t.$inject=["$scope","$element","SidebarJS"],o(t,[{key:"$onInit",value:function(){this.sidebarjsName=this.sidebarjsName||"",this.elem.setAttribute("sidebarjs",this.sidebarjsName)}},{key:"$postLink",value:function(){var t=this.elem.children[0],e=this.elem.children[1],i=n({},this.sidebarjsConfig,{component:this.elem,container:t,backdrop:e});this.SidebarJS.create(i),this.addTransitionListener(t)}},{key:"$onDestroy",value:function(){this.SidebarJS.destroy(this.sidebarjsName)}},{key:"addTransitionListener",value:function(t){var e=this,i=!1;t.addEventListener("transitionend",function(){var t=e.SidebarJS.isVisible(e.sidebarjsName);e.onOpen&&t&&!i?(i=!0,e.onOpen()):e.onClose&&!t&&i&&(i=!1,e.onClose()),e.$scope.$applyAsync()},!1)}}]),t}();function a(t){return{controller:["SidebarJS",function(t){this.SidebarJS=t}],link:function(e,i,n,o){if(!o.SidebarJS.elemHasListener(i[0])){var s=n["sidebarjs"+(t.charAt(0).toUpperCase()+t.slice(1))];i[0].addEventListener("click",function(){return o.SidebarJS[t](s)}),o.SidebarJS.elemHasListener(i[0],!0)}}}}angular.module("ngSidebarJS",[]).service("SidebarJS",s.SidebarService).component("sidebarjs",{template:"<div sidebarjs-container ng-transclude></div><div sidebarjs-backdrop></div>",transclude:!0,controller:r,bindings:{onOpen:"&?",onClose:"&?",sidebarjsConfig:"<?",sidebarjsName:"@?"}}).directive("sidebarjsOpen",a.bind(null,"open")).directive("sidebarjsClose",a.bind(null,"close")).directive("sidebarjsToggle",a.bind(null,"toggle"))},function(t,e,i){t.exports=i(2)},function(t,e,i){(function(t){"use strict";function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t,e){return t(e={exports:{}},e.exports),e.exports}var n=i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="sidebarjs",n=i+"--is-visible",o=i+"--is-moving",s="left",r=[s,"right"],a=function(){function t(e){void 0===e&&(e={});var n=e.component,o=e.container,s=e.backdrop,r=e.documentMinSwipeX,a=void 0===r?10:r,c=e.documentSwipeRange,d=void 0===c?40:c,p=e.nativeSwipe,h=e.nativeSwipeOpen,u=e.position,l=void 0===u?"left":u,b=e.backdropOpacity,v=void 0===b?.3:b;if(this.component=n||document.querySelector("["+i+"]"),this.container=o||t.create(i+"-container"),this.backdrop=s||t.create(i+"-backdrop"),this.documentMinSwipeX=a,this.documentSwipeRange=d,this.nativeSwipe=!1!==p,this.nativeSwipeOpen=!1!==h,this.backdropOpacity=v,this.backdropOpacityRatio=1/v,!(n&&o&&s))try{this.transcludeContent()}catch(t){throw new Error("You must define an element with [sidebarjs] attribute")}this.nativeSwipe&&(this.addNativeGestures(),this.nativeSwipeOpen&&this.addNativeOpenGestures()),this.setPosition(l),this.addAttrsEventsListeners(this.component.getAttribute(i)),this.backdrop.addEventListener("click",this.close.bind(this))}return t.prototype.toggle=function(){this.component.classList.contains(n)?this.close():this.open()},t.prototype.open=function(){this.component.classList.add(n),this.setBackdropOpacity(this.backdropOpacity)},t.prototype.close=function(){this.component.classList.remove(n),this.backdrop.removeAttribute("style")},t.prototype.isVisible=function(){return this.component.classList.contains(n)},t.prototype.setPosition=function(t){var e=this;this.component.classList.add(o),this.position=r.indexOf(t)>=0?t:s,r.forEach(function(t){return e.component.classList.remove(i+"--"+t)}),this.component.classList.add(i+"--"+(this.hasRightPosition()?"right":s)),setTimeout(function(){return e.component.classList.remove(o)},400)},t.prototype.addAttrsEventsListeners=function(e){for(var n=["toggle","open","close"],o=0;o<n.length;o++)for(var s=document.querySelectorAll("["+i+"-"+n[o]+'="'+e+'"]'),r=0;r<s.length;r++)t.elemHasListener(s[r])||(s[r].addEventListener("click",this[n[o]].bind(this)),t.elemHasListener(s[r],!0))},t.prototype.hasLeftPosition=function(){return this.position===s},t.prototype.hasRightPosition=function(){return"right"===this.position},t.prototype.transcludeContent=function(){this.container.innerHTML=this.component.innerHTML,this.component.innerHTML="",this.component.appendChild(this.container),this.component.appendChild(this.backdrop)},t.prototype.addNativeGestures=function(){this.component.addEventListener("touchstart",this.onTouchStart.bind(this)),this.component.addEventListener("touchmove",this.onTouchMove.bind(this)),this.component.addEventListener("touchend",this.onTouchEnd.bind(this))},t.prototype.addNativeOpenGestures=function(){document.addEventListener("touchstart",this.onSwipeOpenStart.bind(this)),document.addEventListener("touchmove",this.onSwipeOpenMove.bind(this)),document.addEventListener("touchend",this.onSwipeOpenEnd.bind(this))},t.prototype.onTouchStart=function(t){this.initialTouch=t.touches[0].pageX},t.prototype.onTouchMove=function(t){var e=this.initialTouch-t.touches[0].clientX,i=this.getSidebarPosition(e);this.touchMoveSidebar=-e,i<=this.container.clientWidth&&this.moveSidebar(this.touchMoveSidebar)},t.prototype.onTouchEnd=function(){this.component.classList.remove(o),this.container.removeAttribute("style"),this.backdrop.removeAttribute("style"),Math.abs(this.touchMoveSidebar)>this.container.clientWidth/3.5?this.close():this.open(),delete this.initialTouch,delete this.touchMoveSidebar},t.prototype.moveSidebar=function(e){this.component.classList.add(o),t.vendorify(this.container,"transform","translate("+e+"px, 0)"),this.updateBackdropOpacity(e)},t.prototype.updateBackdropOpacity=function(t){var e=(1-Math.abs(t)/this.container.clientWidth)/this.backdropOpacityRatio;this.setBackdropOpacity(e)},t.prototype.setBackdropOpacity=function(t){this.backdrop.style.opacity=t.toString()},t.prototype.onSwipeOpenStart=function(t){if(!this.targetElementIsBackdrop(t)){var e=document.body.clientWidth,i=t.touches[0].clientX;(this.hasLeftPosition()?i:e-i)<this.documentSwipeRange&&this.onTouchStart(t)}},t.prototype.onSwipeOpenMove=function(e){if(!this.targetElementIsBackdrop(e)&&this.initialTouch&&!this.isVisible()){var i=e.touches[0].clientX-this.initialTouch,n=this.getSidebarPosition(i);n>0&&(t.vendorify(this.component,"transform","translate(0, 0)"),t.vendorify(this.component,"transition","none"),this.openMovement=n*(this.hasLeftPosition()?-1:1),this.moveSidebar(this.openMovement))}},t.prototype.onSwipeOpenEnd=function(){this.openMovement&&(delete this.openMovement,this.component.removeAttribute("style"),this.onTouchEnd())},t.prototype.getSidebarPosition=function(t){return this.container.clientWidth-(this.hasLeftPosition()?t:-t)},t.prototype.targetElementIsBackdrop=function(t){return t.target.hasAttribute(i+"-backdrop")},t.create=function(t){var e=document.createElement("div");return e.setAttribute(t,""),e},t.vendorify=function(t,e,i){var n=e.charAt(0).toUpperCase()+e.slice(1),o=["Moz","Webkit","O","ms"];t.style[e]=i;for(var s=0;s<o.length;s++)t.style[o[s]+n]=i;return t},t.elemHasListener=function(t,e){return!t||!0!==e&&!1!==e?!!t.sidebarjsListener:t.sidebarjsListener=e},t}();e.SidebarElement=a});e(n);n.SidebarElement;var o=i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.instances={}}return t.prototype.create=function(t){void 0===t&&(t={});var e=t.component&&t.component.getAttribute("sidebarjs")||"";return this.instances[e]=new n.SidebarElement(t),this.instances[e]},t.prototype.open=function(t){void 0===t&&(t=""),this.instances[t]&&this.instances[t].open()},t.prototype.close=function(t){void 0===t&&(t=""),this.instances[t]&&this.instances[t].close()},t.prototype.toggle=function(t){void 0===t&&(t=""),this.instances[t]&&this.instances[t].toggle()},t.prototype.isVisible=function(t){return void 0===t&&(t=""),!!this.instances[t]&&this.instances[t].isVisible()},t.prototype.setPosition=function(t,e){void 0===e&&(e=""),this.instances[e]&&this.instances[e].setPosition(t)},t.prototype.elemHasListener=function(t,e){return n.SidebarElement.elemHasListener(t,e)},t.prototype.destroy=function(t){void 0===t&&(t=""),this.instances[t]&&delete this.instances[t]},t}();e.SidebarService=i});e(o);o.SidebarService;var s=i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SidebarElement=n.SidebarElement,e.SidebarService=o.SidebarService}),r=e(s),a=s.SidebarElement,c=s.SidebarService;t.default=r,t.SidebarElement=a,t.SidebarService=c,Object.defineProperty(t,"__esModule",{value:!0})})(e)},function(t,e){}]);